!function UMD(e,t,n){"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n(e,t)}("EventEmitter3",this,function DEF(e,t){"use strict";function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function EventEmitter(){}var n="function"!=typeof Object.create?"~":!1;return EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function listeners(e,t){var r=n?n+e:e,s=this._events&&this._events[r];if(t)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(var i=0,o=s.length,v=new Array(o);o>i;i++)v[i]=s[i].fn;return v},EventEmitter.prototype.emit=function emit(e,t,r,s,i,o){var v=n?n+e:e;if(!this._events||!this._events[v])return!1;var c,f,h=this._events[v],a=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),a){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,s),!0;case 5:return h.fn.call(h.context,t,r,s,i),!0;case 6:return h.fn.call(h.context,t,r,s,i,o),!0}for(f=1,c=new Array(a-1);a>f;f++)c[f-1]=arguments[f];h.fn.apply(h.context,c)}else{var u,l=h.length;for(f=0;l>f;f++)switch(h[f].once&&this.removeListener(e,h[f].fn,void 0,!0),a){case 1:h[f].fn.call(h[f].context);break;case 2:h[f].fn.call(h[f].context,t);break;case 3:h[f].fn.call(h[f].context,t,r);break;default:if(!c)for(u=1,c=new Array(a-1);a>u;u++)c[u-1]=arguments[u];h[f].fn.apply(h[f].context,c)}}return!0},EventEmitter.prototype.on=function on(e,t,r){var s=new EE(t,r||this),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],s]:this._events[i].push(s):this._events[i]=s,this},EventEmitter.prototype.once=function once(e,t,r){var s=new EE(t,r||this,!0),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],s]:this._events[i].push(s):this._events[i]=s,this},EventEmitter.prototype.removeListener=function removeListener(e,t,r,s){var i=n?n+e:e;if(!this._events||!this._events[i])return this;var o=this._events[i],v=[];if(t)if(o.fn)(o.fn!==t||s&&!o.once||r&&o.context!==r)&&v.push(o);else for(var c=0,f=o.length;f>c;c++)(o[c].fn!==t||s&&!o[c].once||r&&o[c].context!==r)&&v.push(o[c]);return v.length?this._events[i]=1===v.length?v[0]:v:delete this._events[i],this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){return this._events?(e?delete this._events[n?n+e:e]:this._events=n?{}:Object.create(null),this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this},EventEmitter.prefixed=n,EventEmitter});